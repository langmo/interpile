---
layout : layout
title : Videos of sandpile identity dynamics
pagetitle : Home
---

<p>
Select below for which domain, start configuration and harmonic field you want to display the harmonic sandpile dynamics.
</p>
<p>
If player is not loading or an error occurred, you can visit our YouTube channel to watch the movies directly:<br />
<a href="https://www.youtube.com/channel/UCD-1U3y52P7jx_RNqthASpQ" target="_blank">https://www.youtube.com/channel/UCD-1U3y52P7jx_RNqthASpQ</a>.
</p>
<div style="width:100%;">
	<div style="float:left;padding: 0px 10px 5px 10px;border: 1px solid black;margin:0px 0px 10px 0px;width:200px;">
		<p style="margin: 0px 0 0px 0;">
			Domain:<br />
			<select name="domains" id="domains" size="1" onchange="initConfiguration()"> 
			</select>
		</p>
	</div>
	<div style="float:left;padding: 0px 10px 5px 10px;border: 1px solid black;margin:0px 0px 10px 0px;width:200px;">
		<p style="margin: 0px 0 0px 0;">
			Start Configuration:<br />
			<select name="configuration" id="configuration" size="1" onchange="initHarmonic()"> 
			</select>
		</p>
	</div>
	<div style="float:left;padding: 0px 10px 5px 10px;border: 1px solid black;margin:0px 0px 10px 0px;width:200px;">
		<p style="margin: 0px 0 0px 0;">
			Harmonic Field:<br />
			<select name="harmonic" id="harmonic" size="1"> 
			</select>
			</p>
	</div>
</div><br clear ="all" />
<div id="playerBox" style="width: 100%;padding: 0px;margin:0px"><div id="player"></div></div>
<p>White pixels represent vertices carrying zero particles, while green, blue and black pixels represent vertices carrying one, two or three particles, respectively.</p>
    <script>
	var videos = [
		// NAME					Configuration 		Harmonic 			VideoID
		["255 x 255 Square", 	"Identity", 		"H1a=i", 			"h4yStj7Oh2M"],
		["255 x 255 Square", 	"Identity", 		"H2a=ij", 			"4_WaR-ynTGw"],
		["255 x 255 Square", 	"Identity", 		"H2b=i^2-j^2", 		"b0zoIcrHmnw"],
		["255 x 255 Square", 	"Identity", 		"H3a=i^3-3ij^2", 	"NTE09UmqZU8"],
		["255 x 255 Square", 	"Identity", 		"H4a=i^4-6i^2j^2+j^4-i^2-j^2", 	"HW4YQZyDMWw"],
		["255 x 255 Square", 	"Identity", 		"H4b=i^3j-ij^3", 	"WeWkpKV5AuI"],
		
		["255 x 255 Square", 	"C2=2", 		"H2a=ij", 			"gna3htIB9v0"],
		["255 x 255 Square", 	"C2=2", 		"H2b=i^2-j^2", 		"B3w24DflB44"],
		["255 x 255 Square", 	"C2=2", 		"H3a=i^3-3ij^2", 	"ForU7hCuzwc"],
		
		["255 x 255 Square", 	"C3=3", 		"H2a=ij", 			"m3UglpgsGzo"],
		["255 x 255 Square", 	"C3=3", 		"H2b=i^2-j^2", 		"wa_0JLkY_G0"],
		["255 x 255 Square", 	"C3=3", 		"H3a=i^3-3ij^2", 	"daLAUpotALw"],
		
		["63 x 63 Square", 	"Identity", 		"H1a=i", 			"j6cU6c1dw9g"],
		["63 x 63 Square", 	"Identity", 		"H2a=ij", 			"t6x-i2vwuO0"],
		["63 x 63 Square", 	"Identity", 		"H2b=i^2-j^2", 		"n_edrWiwCfs"],
		["63 x 63 Square", 	"Identity", 		"H3a=i^3-3ij^2", 	"bZTWVFwtfEo"],
		["63 x 63 Square", 	"Identity", 		"H4a=i^4-6i^2j^2+j^4-i^2-j^2", 	"4gZJiVrOuvg"],
		["63 x 63 Square", 	"Identity", 		"H4b=i^3j-ij^3", 	"yTbkyjoUSmo"],
		
		["243 x 81 Rectangle", 	"Identity", 		"H1a=i", 			"tCIlHSU0eVM"],
		["243 x 81 Rectangle", 	"Identity", 		"H2a=ij", 			"0AjOrUrGheQ"],
		["243 x 81 Rectangle", 	"Identity", 		"H2b=i^2-j^2", 		"d7AVBVYHncM"],
		["243 x 81 Rectangle", 	"Identity", 		"H3a=i^3-3ij^2", 	"-SY6Ln7wBwk"],
		["243 x 81 Rectangle", 	"Identity", 		"H4a=i^4-6i^2j^2+j^4-i^2-j^2", 	"nn8FWMqXJdg"],
		["243 x 81 Rectangle", 	"Identity", 		"H4b=i^3j-ij^3", 	"x-S5tpG6bNc"],
		
		["Circle, d=255", 	"Identity", 		"H1a=i", 			"NAn3N4mHANg"],
		["Circle, d=255", 	"Identity", 		"H2a=ij", 			"tC3CpkDjIAw"],
		["Circle, d=255", 	"Identity", 		"H2b=i^2-j^2", 		"nwJA1a0CMdk"],
		["Circle, d=255", 	"Identity", 		"H3a=i^3-3ij^2", 	"xqs-7_aY5mM"],
		["Circle, d=255", 	"Identity", 		"H4a=i^4-6i^2j^2+j^4-i^2-j^2", 	"DUE9nBCGwss"],
		["Circle, d=255", 	"Identity", 		"H4b=i^3j-ij^3", 	"4KPbfS9Pnio"],
	  ];
	  initDomains();
	
      // load IFrame Player API code asynchronously.
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // Create YouTube player after Player API downloaded (called by Player API).
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '813',
          width: '757',
          videoId: getCurrentVideoUrl(),
		  playerVars: {
			'autoplay': 0,
			'enablejsapi': 1,
			'iv_load_policy': 3,
			'modestbranding': 0,
			'rel': 0,
			'showinfo': 0
		  },
          events: {
            'onReady': onPlayerReady
            //'onStateChange': onPlayerStateChange
          }
        });
      }
	  function onPlayerReady(evt) 
	  {
		document.getElementById("harmonic").onchange = playVideo;
	  }

	  
	  function domainFilter(value, index, self) 
	  {
		for(var i=0; i<self.length; i++)
		{
			if(self[i][0] === value[0])
				return i===index;
		}
		return true;
	  }
	  function configurationFilter(value, index, self) 
	  {
		if(value[0] != this)
			return false;
		for(var i=0; i<index; i++)
		{
			if(self[i][0] == this && self[i][1] === value[1])
				return false;
		}
		return true;
	  }
	  function harmonicFilter(value, index, self) 
	  {
		if(value[0] != this[0] || value[1] != this[1])
			return false;
		else
			return true;
	  }
      function initDomains()
	  {
		var domainObject = document.getElementById("domains");
		var uniqueDomains = videos.filter(domainFilter);
		for(var i=0; i<uniqueDomains.length; i++)
		{
			var newOption = document.createElement("option");
			newOption.text = uniqueDomains[i][0];
			domainObject.add(newOption); 
		}
		initConfiguration()
	  }
	  function initConfiguration()
	  {
		var domain = document.getElementById("domains").value;
		var configurationObject = document.getElementById("configuration");
		var lastConfiguration = configurationObject.value;
		while(configurationObject.length > 0)
		{
			configurationObject.remove(0);
		}
		
		var uniqueConfigurations = videos.filter(configurationFilter, domain);
		for(var i=0; i<uniqueConfigurations.length; i++)
		{
			var newOption = document.createElement("option");
			newOption.text = uniqueConfigurations[i][1];
			configurationObject.add(newOption); 
		}
		for(var i=0; i<configurationObject.length; i++)
		{
			if(configurationObject.options.item(i).text == lastConfiguration)
			{
				configurationObject.selectedIndex = i;
				break;
			}
		}
		initHarmonic();
	  }
	  
	  function initHarmonic()
	  {
		var domain = document.getElementById("domains").value;
		var configuration = document.getElementById("configuration").value;
		var harmonicObject = document.getElementById("harmonic");
		var lastHarmonic = harmonicObject.value;
		while(harmonicObject.length > 0)
		{
			harmonicObject.remove(0);
		}
		
		var uniqueHarmonics = videos.filter(harmonicFilter, [domain, configuration]);
		for(var i=0; i<uniqueHarmonics.length; i++)
		{
			var newOption = document.createElement("option");
			newOption.text = uniqueHarmonics[i][2];
			harmonicObject.add(newOption); 
		}
		for(var i=0; i<harmonicObject.length; i++)
		{
			if(harmonicObject.options.item(i).text == lastHarmonic)
			{
				harmonicObject.selectedIndex = i;
				break;
			}
		}
		playVideo();
	  }
	  function getCurrentVideoUrl()
	  {
		var domain = document.getElementById("domains").value;
		var configuration = document.getElementById("configuration").value;
		var harmonic = document.getElementById("harmonic").value;
		for(var i=0; i<videos.length; i++)
		{
			if(videos[i][0] == domain && videos[i][1]==configuration && videos[i][2]==harmonic)
			{
				return videos[i][3];
			}
		}
		return videos[0][3];
	  }
	  function playVideo()
	  {
		var domain = document.getElementById("domains").value;
		var configuration = document.getElementById("configuration").value;
		var harmonic = document.getElementById("harmonic").value;
		if(player)
		{
			//player.loadVideoById({videoId:url});
			player.cueVideoById(
			{
				'videoId': getCurrentVideoUrl(),
				'playerVars': {
					'autoplay': 0,
					'enablejsapi': 1,
					'iv_load_policy': 3,
					'modestbranding': 0,
					'rel': 0,
					'showinfo': 0
				  }
			});
				
		}
	  }
	  
	  function onResize()
	  {
		var refHeight = 813;
        var refWidth = 757;
	  
		var playerObj = document.getElementById("player");
		var playerBoxObj = document.getElementById("playerBox");
		if(!playerObj || !playerBoxObj)
			return;
		var width = Math.min(playerBox.offsetWidth, refWidth);
		var height = Math.round(width/refWidth*refHeight);

		playerObj.width = width;
		playerObj.height = height;
	  }
	  window.addEventListener('resize', onResize);
	  window.addEventListener("load", onResize); 
    </script>


</p>